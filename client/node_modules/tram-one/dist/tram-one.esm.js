var asyncGenerator=function(){function e(e){this.value=e}function t(t){function n(o,i){try{var u=t[o](i),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(u.done?"return":"normal",u.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(e,t){return new Promise(function(r,u){var a={key:e,arg:t,resolve:r,reject:u,next:null};i?i=i.next=a:(o=i=a,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),assert=require("assert"),belCreateElement=require("bel-create-element"),HoverEngine=require("hover-engine"),morph=require("nanomorph"),rlite=require("rlite-router"),rbelRegister=require("rbel"),urlListener=require("url-listener"),Tram=function(){function e(t){classCallCheck(this,e),t&&assert.equal(typeof t,"object","Tram-One: options should be an object"),t=t||{},this.defaultRoute=t.defaultRoute||"/404",this.router=rlite(),this.internalRouter={},this.engine=new HoverEngine}return createClass(e,[{key:"addActions",value:function(e){return assert.equal(typeof e,"object","Tram-One: ActionGroups should be { store-key: { action-name: action-function } }"),this.engine.addActions(e),this}},{key:"addListener",value:function(e){return assert.equal(typeof e,"function","Tram-One: Listener should be a function"),this.engine.addListener(e),this}},{key:"addRoute",value:function(e,t){return assert.equal(typeof e,"string","Tram-One: path should be a string"),assert.equal(typeof t,"function","Tram-One: page should be a function"),this.internalRouter[e]=function(e){return function(n,r){return t(n,r,e)}},this.router=rlite(this.internalRouter[this.defaultRoute],this.internalRouter),this}},{key:"start",value:function(e,t){var n=this;return this.engine.addListener(function(r,o){n.mount(e,t,r,o)}),urlListener(function(){n.mount(e,t)}),this.mount(e,t),this}},{key:"mount",value:function(e,t,n,r){var o="string"==typeof e?document.querySelector(e):e;if(null===o&&console.warn("Tram-One: could not find target, is the element on the page yet?"),!o.firstElementChild){var i=document.createElement("div");o.appendChild(i)}var u=o.firstElementChild,a=t||window.location.href.replace(window.location.origin,"");return morph(u,this.toNode(a,n,r)),this}},{key:"toNode",value:function(e,t,n){return this.router(e)(t||this.engine.store,n||this.engine.actions)}},{key:"toString",value:function(e,t){return"undefined"!=typeof window?this.toNode(e,t).outerHTML:this.toNode(e,t).toString()}}],[{key:"html",value:function(e){return e&&(assert.equal(typeof e,"object","Tram-One: registry should be an object"),assert.ok(!Array.isArray(e),"Tram-One: registry should be an object")),rbelRegister(belCreateElement,e||{})}}]),e}();module.exports=Tram;
//# sourceMappingURL=tram-one.esm.js.map
